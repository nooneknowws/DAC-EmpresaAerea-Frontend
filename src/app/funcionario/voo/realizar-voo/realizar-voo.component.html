<div *ngIf="user != null; else non_authorized">
    <div class="card" *ngIf="!voo">
      <div class="card-header-funcionario">
        <h5 class="mb-0">Realizar Voo</h5>
      </div>
      <div class="card-body">
        <label for="codigoVoo" class="form-label">Digite o código do voo:</label>
        <div class="input-group mb-3">
          <input type="text" class="form-control" id="codigoVoo" [(ngModel)]="codigoVooInput" placeholder="Ex: GRU123">
          <button type="button" class="btn btn-primary" (click)="getVoo(codigoVooInput)">Consultar</button>  
        </div>
  
        <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
          {{ errorMessage }}
        </div>
      </div>
    </div>
  </div>
  
  <div *ngIf="voo" class="card shadow-sm">
    <div class="card-header-funcionario">
      <h5 class="mb-0">Voo {{ voo.codigoVoo }}</h5>
      <span class="ms-1 badge"
      [ngClass]="{
        'bg-secondary': voo.status === 'Confirmado',
        'bg-success': voo.status === 'Realizado',
        'bg-danger': voo.status === 'Cancelado'
      }">
      {{ voo.status }}
      </span>
    </div>
    
    <div class="card-body">
      <p><strong>Data/Hora de Partida:</strong> {{ voo.dataHoraPartida | date: 'short' }}</p>
      <p><strong>Origem:</strong> {{ voo.origem?.nome }} ({{ voo.origem?.codigo }})</p>
      <p><strong>Destino:</strong> {{ voo.destino?.nome }} ({{ voo.destino?.codigo }})</p>
      <p><strong>Lotação:</strong> {{ voo.quantidadePassageiros }}/{{ voo.quantidadeAssentos }} assentos</p>
      
      <button class="btn btn-success w-100" (click)="realizarVoo()">Confirmar Realização</button>
    </div>
  </div>
  
  <ng-template #non_authorized>
    <div class="alert alert-danger" role="alert">
      <h4 class="alert-heading">Acesso não autorizado!</h4>
      <p>Você não tem permissão para acessar esta página.</p>
      <hr>
      <p class="mb-0">Esta é uma funcionalidade disponível apenas para funcionários. Por favor, verifique suas permissões e tente novamente mais tarde.</p>
    </div>
  </ng-template>
  